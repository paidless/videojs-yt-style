(function(t,e){if(typeof define==="function"&&define.amd){define([],e)}else if(typeof module==="object"&&module.exports){module.exports=e()}else{t.erudaOrientation=e()}})(this,function(){return function(t){var a=t.Tool;var r=t.util;var e=a.extend({name:"orientation",init:function(t){this.callSuper(a,"init",arguments);this._style=r.evalCss([".eruda-dev-tools .eruda-tools .eruda-orientation {padding: 10px; overflow-y: auto; -webkit-overflow-scrolling: touch;}",".eruda-not-supported {background: var(--console-error-background); color: var(--console-error-foreground); border: 1px solid var(--console-error-border);padding: 10px; text-align: center;}",".eruda-cube {width: 150px; height: 150px; color: var(--foreground); position: relative; margin: 50px auto; -webkit-transform-style: preserve-3d; transform-style: preserve-3d;}",".eruda-face {width: 150px; height: 150px; position: absolute; font-size: 80px; text-align: center; line-height: 150px; background-color: var(--accent); box-shadow: inset 0 0 20px var(--foreground); opacity: 0.6; }",".eruda-one {-webkit-transform: translateZ(75px); transform: translateZ(75px);}",".eruda-two {-webkit-transform: rotateY(90deg) translateZ(75px); transform: rotateY(90deg) translateZ(75px);}",".eruda-three {-webkit-transform: rotateY(180deg) translateZ(75px); transform: rotateY(180deg) translateZ(75px);}",".eruda-four {-webkit-transform: rotateY(-90deg) translateZ(75px); transform: rotateY(-90deg) translateZ(75px);}",".eruda-five {-webkit-transform: rotateX(90deg) translateZ(75px); transform: rotateX(90deg) translateZ(75px);}",".eruda-six {-webkit-transform: rotateX(-90deg) translateZ(75px) rotate(0deg); transform: rotateX(-90deg) translateZ(75px) rotate(0deg);}",".eruda-orientation-data {margin: 10px;}",".eruda-content {padding: 10px;}","table {width: 100%;}","table td {border: 1px solid var(--border); padding: 10px;}",".eruda-key {width: 150px;}","sup {vertical-align: super; font-size: smaller;}"].join(".eruda-dev-tools .eruda-tools .eruda-orientation "));var e=window.DeviceOrientationEvent&&window.DeviceMotionEvent;if(!e){t.html('<div class="eruda-not-supported">Not supported for this browser!</div>')}else{t.html(['<div class="eruda-cube" class="cube">','  <div class="eruda-face eruda-one">1</div>','  <div class="eruda-face eruda-two">2</div>','  <div class="eruda-face eruda-three">3</div>','  <div class="eruda-face eruda-four">4</div>','  <div class="eruda-face eruda-five">5</div>','  <div class="eruda-face eruda-six">6</div>',"</div>",'<div class="eruda-orientation-data">','  <div class="eruda-content">',"    <table>","      <tbody>","        <tr>",'          <td class="eruda-key">coordinates</td>','          <td class="eruda-coordinates">unknown</td>',"        </tr>","        <tr>",'          <td class="eruda-key">acceleration</td>','          <td class="eruda-acceleration">unknown</td>',"        </tr>","        <tr>",'          <td class="eruda-key">acceleration including gravity</td>','          <td class="eruda-acceleration-including-gravity">unknown</td>',"        </tr>","        <tr>",'          <td class="eruda-key">rotation rate</td>','          <td class="eruda-rotation-rate">unknown</td>',"        </tr>","        <tr>",'          <td class="eruda-key">interval</td>','          <td class="eruda-interval">unknown</td>',"        </tr>","      </tbody>","    </table>","  </div>","</div>"].join(""));this._$cube=t.find(".eruda-cube");this._$coordinates=t.find(".eruda-coordinates");this._$acceleration=t.find(".eruda-acceleration");this._$accGravity=t.find(".eruda-acceleration-including-gravity");this._$rotationRate=t.find(".eruda-rotation-rate");this._$interval=t.find(".eruda-interval");this._bindEvent()}},_bindEvent:function(){var e=this._$cube;var a=this._$coordinates;var o=this._$acceleration;var i=this._$accGravity;var n=this._$rotationRate;var d=this._$interval;var s=this;this._onDeviceorientation=function(t){if(!s._isShow)return;e.css("transform","rotateX("+t.beta+"deg) "+"rotateY("+t.gamma+"deg) "+"rotateZ("+t.alpha+"deg)");a.text("("+Math.round(t.beta)+", "+Math.round(t.gamma)+", "+Math.round(t.alpha)+")")};this._onDevicemotion=function(t){if(!s._isShow)return;var e=t.acceleration;o.html("("+Math.round(e.x)+", "+Math.round(e.y)+", "+Math.round(e.z)+") m/s<sup>2</sup>");var a=t.accelerationIncludingGravity;i.html("("+Math.round(a.x)+", "+Math.round(a.y)+", "+Math.round(a.z)+") m/s<sup>2</sup>");var r=t.rotationRate;n.text("("+Math.round(r.beta)+", "+Math.round(r.gamma)+", "+Math.round(r.alpha)+")");d.text(t.interval+"ms")};window.addEventListener("deviceorientation",this._onDeviceorientation);window.addEventListener("devicemotion",this._onDevicemotion)},show:function(){this.callSuper(a,"show",arguments);this._isShow=true},hide:function(){this.callSuper(a,"hide",arguments);this._isShow=false},destroy:function(){this.callSuper(a,"destroy",arguments);r.evalCss.remove(this._style);window.removeEventListener("deviceorientation",this._onDeviceorientation);window.removeEventListener("devicemotion",this._onDevicemotion)}});return new e}});